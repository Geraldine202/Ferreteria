<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/login" text="Volver"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="form-wrapper">
    <ion-card class="reset-card">
      <ion-card-header class="logo-container">
        <img src="../../../assets/images/logo.png" alt="Logo" class="logo-card" />
      </ion-card-header>

      <!-- Bienvenida -->
      <ion-card-content class="welcome-message">
        <h2 class="welcome-title">¡Bienvenido!</h2>
        <p class="welcome-text">
          Para comenzar a utilizar la plataforma, por favor crea tu contraseña.
        </p>
      </ion-card-content>

      <!-- Formulario -->
      <ion-card-content>
        <form #resetForm="ngForm" (ngSubmit)="onSubmit()">
          <!-- Nueva contraseña -->
          <ion-item class="custom-item" fill="outline">
            <ion-label position="floating">Nueva contraseña</ion-label>
            <ion-input
              [type]="showPassword ? 'text' : 'password'"
              name="password"
              required
              minlength="6"
              [(ngModel)]="nuevaContrasenia"
              autocomplete="new-password"
            ></ion-input>
            <ion-icon
              color="primary"
              [name]="showPassword ? 'eye' : 'eye-off'"
              slot="end"
              (click)="togglePassword()"
              style="cursor: pointer;"
            ></ion-icon>
          </ion-item>

          <!-- Confirmar contraseña -->
          <ion-item class="custom-item" fill="outline">
            <ion-label position="floating">Confirmar contraseña</ion-label>
            <ion-input
              [type]="showConfirmPassword ? 'text' : 'password'"
              name="confirmPassword"
              required
              minlength="6"
              [(ngModel)]="confirmarContrasenia"
              autocomplete="new-password"
            ></ion-input>
            <ion-icon
              color="primary"
              [name]="showConfirmPassword ? 'eye' : 'eye-off'"
              slot="end"
              (click)="toggleConfirmPassword()"
              style="cursor: pointer;"
            ></ion-icon>
          </ion-item>

          <ion-button
            expand="block"
            type="submit"
            [disabled]="
              !resetForm.valid ||
              nuevaContrasenia.length < 6 ||
              confirmarContrasenia.length < 6
            "
            class="btn-strong-orange"
          >
            Cambiar Contraseña
          </ion-button>
        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
