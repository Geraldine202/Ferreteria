<ion-app>
  <ion-split-pane contentId="main-content">
    <!-- Men√∫ lateral -->
    <ion-menu menu-id="main-menu" contentId="main-content" class="menuu">
      <ion-header>
        <ion-toolbar color="dark">
          <ion-title style="text-align: center;">
            <img src="assets/images/logo.png" alt="Logo" style="height: 110px;" />
          </ion-title>
        </ion-toolbar>
      </ion-header>
    
      <ion-content>
        <ion-list>
          <ion-item routerLink="/perfil" routerDirection="root">
            <ion-icon name="person" slot="start"></ion-icon>
            <ion-label>Ver perfil</ion-label>
          </ion-item>
          <ion-item routerLink="/inicio" routerDirection="root">
            <ion-icon name="home" slot="start"></ion-icon>
            <ion-label>Inicio</ion-label>
          </ion-item>
          <ion-item button (click)="mostrarSubcategorias = !mostrarSubcategorias">
            <ion-icon name="apps" slot="start"></ion-icon>
            <ion-label>Categor√≠a</ion-label>
            <ion-icon name="chevron-down-outline" slot="end" [class.rotated]="mostrarSubcategorias"></ion-icon>
          </ion-item>
          
          <!-- Subcategor√≠as desplegables -->
          <ion-list *ngIf="mostrarSubcategorias" class="subcategoria-lista">
            <ion-item *ngFor="let sub of subcategorias" (click)="seleccionarSubcategoria(sub)" (click)="irACategoria(sub)">
              <ion-icon [name]="obtenerIcono(sub)" slot="start"></ion-icon>
              <ion-label>{{ sub }}</ion-label>
            </ion-item>
          </ion-list>
          
          <ion-item routerLink="/carrito" routerDirection="root">
            <ion-icon name="cart" slot="start"></ion-icon>
            <ion-label>Ver carrito</ion-label>
          </ion-item>
    
          <ion-item routerLink="/contacto" routerDirection="root">
            <ion-icon name="call" slot="start"></ion-icon>
            <ion-label>Contacto</ion-label>
          </ion-item>
          <ion-item routerLink="/contacto" routerDirection="root">
            <ion-icon name="log-out" slot="start"></ion-icon>
            <ion-label>Cerrar sesi√≥n</ion-label>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-menu>
    

    <!-- Contenido principal -->
    <div class="ion-page" id="main-content">
      <ion-header>
        <ion-toolbar style="
          background: linear-gradient(135deg, #5c4033, #3b2a1a); 
          color: #fff;
          box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        ">
          <ion-buttons slot="start" >
            <ion-menu-button menu="main-menu" class="animated-menu-button"></ion-menu-button>
          </ion-buttons>
          <ion-title class="animated-title" style="
            text-align: center; 
            font-size: 28px; 
            font-weight: bold; 
            letter-spacing: 1.5px; 
            text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);
            display: flex; 
            align-items: center; 
            justify-content: center;
            gap: 8px;
          ">Los Clavitos de Pablito üõ†Ô∏è
          </ion-title>
        </ion-toolbar>
      </ion-header>
      
      <style>
        .animated-title {
          opacity: 0;
          transform: translateY(-20px);
          animation: slideFadeIn 1.2s ease-out forwards;
        }
      
        @keyframes slideFadeIn {
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      </style>
      
      <ion-content>
        <ion-fab vertical="bottom" horizontal="end" slot="fixed">
          <ion-fab-button color="primary">
            <ion-icon name="cart"></ion-icon>
          </ion-fab-button>
        </ion-fab>
      
        <div class="slider-container">
          <div class="slider" *ngFor="let imagen of imagenes; let i = index">
            <ion-item>
              <img [src]="imagen" [class.active]="i === imagenIndex" style="width: 100%; height: auto;" />
            </ion-item>
          </div>
        </div>
        
        <ion-button expand="full" fill="solid" color="primary" routerLink="/productos">
          ¬°Compra Ahora!
        </ion-button>
        <ion-grid>
          <ion-row>
            <ion-col size="6" size-md="3">
              <ion-card class="mini-card hover-shadow">
                <ion-img src="assets/images/relleno1.png" class="mini-img"></ion-img>
                <ion-card-header class="mini-header">
                  <ion-card-title class="mini-title">Herramientas</ion-card-title>
                </ion-card-header>
                <ion-card-content class="mini-content">
                  <p class="mini-desc">Descripci√≥n breve</p>
                  <h3 class="mini-price">$19.99</h3>
                </ion-card-content>
                <ion-button class="mini-btn animate-hover" size="small" fill="solid" color="primary" (click)="agregarAlCarrito()">
                  <ion-icon name="cart-outline" slot="start"></ion-icon>
                  A√±adir
                </ion-button>
              </ion-card>
            </ion-col>
            <ion-col size="6" size-md="3">
              <ion-card class="mini-card hover-shadow">
                <ion-img src="assets/images/relleno1.png" class="mini-img"></ion-img>
                <ion-card-header class="mini-header">
                  <ion-card-title class="mini-title">Herramientas</ion-card-title>
                </ion-card-header>
                <ion-card-content class="mini-content">
                  <p class="mini-desc">Descripci√≥n breve</p>
                  <h3 class="mini-price">$19.99</h3>
                </ion-card-content>
                <ion-button class="mini-btn animate-hover" size="small" fill="solid" color="primary" (click)="agregarAlCarrito()">
                  <ion-icon name="cart-outline" slot="start"></ion-icon>
                  A√±adir
                </ion-button>
              </ion-card>
            </ion-col>
            <ion-col size="6" size-md="3">
              <ion-card class="mini-card hover-shadow">
                <ion-img src="assets/images/relleno1.png" class="mini-img"></ion-img>
                <ion-card-header class="mini-header">
                  <ion-card-title class="mini-title">Herramientas</ion-card-title>
                </ion-card-header>
                <ion-card-content class="mini-content">
                  <p class="mini-desc">Descripci√≥n breve</p>
                  <h3 class="mini-price">$19.99</h3>
                </ion-card-content>
                <ion-button class="mini-btn animate-hover" size="small" fill="solid" color="primary" (click)="agregarAlCarrito()">
                  <ion-icon name="cart-outline" slot="start"></ion-icon>
                  A√±adir
                </ion-button>
              </ion-card>
            </ion-col>
            <ion-col size="6" size-md="3">
              <ion-card class="mini-card hover-shadow">
                <ion-img src="assets/images/relleno1.png" class="mini-img"></ion-img>
                <ion-card-header class="mini-header">
                  <ion-card-title class="mini-title">Herramientas</ion-card-title>
                </ion-card-header>
                <ion-card-content class="mini-content">
                  <p class="mini-desc">Descripci√≥n breve</p>
                  <h3 class="mini-price">$19.99</h3>
                </ion-card-content>
                <ion-button class="mini-btn animate-hover" size="small" fill="solid" color="primary" (click)="agregarAlCarrito()">
                  <ion-icon name="cart-outline" slot="start"></ion-icon>
                  A√±adir
                </ion-button>
              </ion-card>
            </ion-col>
            <ion-col size="6" size-md="3">
              <ion-card class="mini-card hover-shadow">
                <ion-img src="assets/images/relleno1.png" class="mini-img"></ion-img>
                <ion-card-header class="mini-header">
                  <ion-card-title class="mini-title">Herramientas</ion-card-title>
                </ion-card-header>
                <ion-card-content class="mini-content">
                  <p class="mini-desc">Descripci√≥n breve</p>
                  <h3 class="mini-price">$19.99</h3>
                </ion-card-content>
                <ion-button class="mini-btn animate-hover" size="small" fill="solid" color="primary" (click)="agregarAlCarrito()">
                  <ion-icon name="cart-outline" slot="start"></ion-icon>
                  A√±adir
                </ion-button>
              </ion-card>
            </ion-col>
            <ion-col size="6" size-md="3">
              <ion-card class="mini-card hover-shadow">
                <ion-img src="assets/images/relleno1.png" class="mini-img"></ion-img>
                <ion-card-header class="mini-header">
                  <ion-card-title class="mini-title">Herramientas</ion-card-title>
                </ion-card-header>
                <ion-card-content class="mini-content">
                  <p class="mini-desc">Descripci√≥n breve</p>
                  <h3 class="mini-price">$19.99</h3>
                </ion-card-content>
                <ion-button class="mini-btn animate-hover" size="small" fill="solid" color="primary" (click)="agregarAlCarrito()">
                  <ion-icon name="cart-outline" slot="start"></ion-icon>
                  A√±adir
                </ion-button>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>

        <h2 style="text-align: center;">Productos m√°s vendidos</h2>
        <div class="featured-slider-container">
          <!-- Flecha de retroceso -->
          <button class="slider-btn prev" (click)="moveSlider(-1)">&#10094;</button>
        
          <!-- Contenedor del slider -->
          <div class="featured-slider">
            <ion-card *ngFor="let item of getProductosVisibles(); let i = index" class="mini-card hover-shadow"
                      [ngClass]="{'centered': item.isCentral, 'faded': !item.isCentral}">
              <img [src]="item.producto.imgSrc" alt="{{item.producto.title}}" class="mini-img" >
              <ion-card-header>
                <ion-card-title class="mini-title">{{item.producto.title}}</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                <p class="product-description">{{item.producto.description}}</p>
                <p class="product-price">{{item.producto.price}}</p>
              </ion-card-content> 
              <ion-button  class="mini-btn animate-hover" size="small" fill="solid" color="primary" (click)="agregarAlCarrito()">
                <ion-icon name="cart-outline" slot="start"></ion-icon>
                A√±adir
              </ion-button>
            </ion-card>
          </div>
        
          <!-- Flecha de avance -->
          <button class="slider-btn next" (click)="moveSlider(2)">&#10095;</button>
        </div>
        
        
        <ion-footer>
          <ion-toolbar color="dark">
            <ion-grid>
              <ion-row class="footer-content">
                <!-- Redes sociales -->
                <ion-col size="12" size-md="3">
                  <div class="social-icons">
                    <ion-button href="https://www.instagram.com/tuferreteria" target="_blank" color="secondary">
                      <ion-icon name="logo-instagram"></ion-icon>
                    </ion-button>
                    <ion-button href="https://www.facebook.com/tuferreteria" target="_blank" color="secondary">
                      <ion-icon name="logo-facebook"></ion-icon>
                    </ion-button>
                  </div>
                </ion-col>
        
                <!-- Enlaces importantes -->
                <ion-col size="12" size-md="3">
                  <div class="footer-links">
                    <a href="/terminos" class="footer-link">T√©rminos y condiciones</a>
                    <a href="/privacidad" class="footer-link">Pol√≠tica de privacidad</a>
                    <a href="/ayuda" class="footer-link">Ayuda</a>
                  </div>
                </ion-col>
        
                <!-- Informaci√≥n de contacto -->
                <ion-col size="12" size-md="3">
                  <div class="footer-contact">
                    <p><strong>Cont√°ctanos:</strong></p>
                    <p>Tel: +123 456 789</p>
                    <p>Email: contacto&#64;ferreteria.com</p>
                  </div>
                </ion-col>
        
                <!-- Derechos reservados -->
                <ion-col size="12" size-md="3">
                  <div class="footer-copyright">
                    <p>&copy; 2025 Los Clavitos de Pablito. Todos los derechos reservados.</p>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-toolbar>
        </ion-footer>
      </ion-content>
    </div>
  </ion-split-pane>
</ion-app>